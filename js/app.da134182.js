(function(e){function t(t){for(var a,c,s=t[0],i=t[1],l=t[2],u=0,g=[];u<s.length;u++)c=s[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&g.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(g.length)g.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/meal-planner/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"092a":function(e,t,n){},"0ae9":function(e,t,n){e.exports=n.p+"img/bangers-mash.206731ee.jpg"},"15da":function(e){e.exports=JSON.parse('[{"mealId":0,"nameAdult":"Spaghetti Bolognese","nameKids":"Spaghetti Bolognese","src":"spaghetti-bolognese.jpeg","ratings":{"F":2,"T":2},"prepTime":"long","ingredients":["Spaghetti","Beef Mince","Passata","Garlic"],"tags":["Beef","Pasta"],"leftovers":{"F":[],"T":[]}},{"mealId":1,"nameAdult":"Thai Green Chicken Curry","nameKids":"Creamy Curry","src":"thai-green-chicken-curry.jpeg","ratings":{"F":2,"T":2},"prepTime":"short","ingredients":["Chicken Breast","Rice","Snowpeas","Carrots","Capsicum","Coconut Milk","Green Curry Paste","Fish Sauce"],"tags":["Chicken"],"leftovers":{"F":[],"T":[]}},{"mealId":2,"nameAdult":"Lamb Butterfly Souvlaki","nameKids":"Lamb","src":"butterflied-lamb.jpeg","ratings":{"F":2,"T":1.5},"prepTime":"long","ingredients":["Lamb Butterfly","Potato","Sweet Potato","Carrots"],"tags":["Lamb"],"leftovers":{"F":["Sweet Potato"],"T":[]}},{"mealId":3,"nameAdult":"Bangers and Mash","nameKids":"Snossages","src":"bangers-mash.jpg","ratings":{"F":2,"T":3},"prepTime":"short","ingredients":["Sausages","Potato","Broccolli","Carrots"],"tags":["Sausages"],"leftovers":{"F":["Sweet Potato"],"T":[]}},{"mealId":4,"nameAdult":"Lasagna","nameKids":"Lasagna","src":"beef-lasagne.jpeg","ratings":{"F":2,"T":2},"prepTime":"long","ingredients":["Beef Mince","Lasagna Sheets","Bechamel Sauce","Passata","Garlic"],"tags":["Beef"],"leftovers":{"F":[],"T":[]}},{"mealId":5,"nameAdult":"Tacos","nameKids":"Wraps","src":"tacos.jpg","ratings":{"F":2,"T":2},"prepTime":"Short","ingredients":["Taco Kit","Beef Mince","Salad"],"tags":["Beef","Salad"],"leftovers":{"F":[],"T":[]}},{"mealId":6,"nameAdult":"Chicken Pumpkin Risotto","nameKids":"Rice","src":"chicken-pumpkin-risotto.jpeg","ratings":{"F":2,"T":2},"prepTime":"Short","ingredients":["Risotto","Pumpkin","Chicken Breast"],"tags":["Chicken"],"leftovers":{"F":[],"T":[]}},{"mealId":7,"nameAdult":"Chorizo Risotto","nameKids":"Rice","src":"chicken-chorizo-risotto.jpeg","ratings":{"F":2,"T":2},"prepTime":"Short","ingredients":["Risotto","Chorizo"],"tags":["Chicken"],"leftovers":{"F":[],"T":[]}}]')},"1ac2":function(e,t,n){e.exports=n.p+"img/spaghetti-bolognese.0d78dba0.jpeg"},2141:function(e,t,n){e.exports=n.p+"img/beef-lasagne.a00f8c81.jpeg"},"215a":function(e,t,n){"use strict";n("092a")},2675:function(e,t,n){e.exports=n.p+"img/curried-sausages.4f4b32f9.jpeg"},"2da1":function(e,t,n){},"3dfd":function(e,t){},"462b":function(e,t,n){"use strict";n("2da1")},"7ecd":function(e,t,n){"use strict";n("c66d")},"7fdf":function(e){e.exports=JSON.parse('{"Home":[{"location":"pantry","ingredients":["Bechamel Sauce","Coconut Milk","Fish Sauce","Garlic","Green Curry Paste","Lasagna Sheets","Passata","Potato","Rice","Risotto","Spaghetti","Sweet Potato"]},{"location":"fridge","ingredients":["Broccolli","Capsicum","Carrots","Chorizo","Pumpkin","Salad","Snowpeas"]},{"location":"freezer","ingredients":["Beef Mince","Chicken Breast","Frozen Peas","Lamb Butterfly","Sausages"]},{"location":"other","ingredients":[]}],"Woolies":[{"location":"produce","ingredients":["Broccolli","Capsicum","Carrots","Garlic","Potato","Pumpkin","Snowpeas","Sweet Potato","Salad"]},{"location":"deli","ingredients":["Chicken Breast","Chorizo"]},{"location":"aisles","ingredients":["Bechamel Sauce","Coconut Milk","Fish Sauce","Green Curry Paste","Lasagna Sheets","Passata","Rice","Spaghetti","Taco Kits"]},{"location":"meats","ingredients":["Beef Mince","Lamb Butterfly","Sausages"]},{"location":"fridges","ingredients":[]},{"location":"freezers","ingredients":["Frozen Peas"]}]}')},a4a7:function(e,t,n){},a6db:function(e,t,n){"use strict";n("a4a7")},ad60:function(e,t,n){e.exports=n.p+"img/thai-green-chicken-curry.adade08e.jpeg"},b027:function(e,t,n){e.exports=n.p+"img/chicken-pumpkin-risotto.f4e2a9ea.jpeg"},b6c5:function(e,t,n){e.exports=n.p+"img/chicken-chorizo-risotto.b9abae06.jpeg"},c66d:function(e,t,n){},caa6:function(e,t,n){var a={"./bangers-mash.jpg":"0ae9","./beef-lasagne.jpeg":"2141","./butterflied-lamb.jpeg":"dd29","./chicken-chorizo-risotto.jpeg":"b6c5","./chicken-pumpkin-risotto.jpeg":"b027","./curried-sausages.jpeg":"2675","./spaghetti-bolognese.jpeg":"1ac2","./tacos.jpg":"ea41","./thai-green-chicken-curry.jpeg":"ad60"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="caa6"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r=n("3dfd"),o=n.n(r),c=n("9483");Object(c["a"])("".concat("/meal-planner/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var s=n("6c02"),i=(n("caad"),n("2532"),Object(a["J"])("data-v-07c08291"));Object(a["s"])("data-v-07c08291");var l={class:"root"},d=Object(a["g"])("h2",{class:"center"},"Browse Meals",-1),u=Object(a["g"])("div",{class:"filter-container"},[Object(a["f"])(" Filter: "),Object(a["g"])("input")],-1),g={class:"card-container"};Object(a["q"])();var b=i((function(e,t,n,r,o,c){var s=Object(a["w"])("MealCard");return Object(a["p"])(),Object(a["d"])("div",l,[d,u,Object(a["g"])("div",g,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.arrMealIds,(function(e,t){return Object(a["p"])(),Object(a["d"])(s,{key:"meal-id-"+e,"meal-id":e,selected:r.mealsThisWeek.includes(t)},null,8,["meal-id","selected"])})),128))])])})),p=(n("d81d"),Object(a["J"])("data-v-6199bf62"));Object(a["s"])("data-v-6199bf62");var m={class:"card-image"},f={class:"card-header"},h={class:"title"},O=Object(a["g"])("br",null,null,-1),j={class:"sub-title"},v={class:"card-footer"},I={class:"tag-container"},T={class:"time-container"},M={key:0,class:"material-icons"},S={key:1,class:"material-icons"},k={class:"rating-container"},y=Object(a["g"])("i",{class:"material-icons blue"},"thumb_up",-1),_=Object(a["g"])("i",{class:"material-icons pink"},"thumb_up",-1);Object(a["q"])();var L=p((function(e,t,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",{class:["meal-card",{"meal-card-selected":n.selected}],onClick:t[2]||(t[2]=function(e){return c.selectMeal(r.mealObj)})},[Object(a["g"])("div",m,[Object(a["g"])("img",{class:"image image-top",alt:r.mealObj.nameAdult,src:c.getImgUrl(r.mealObj.src)},null,8,["alt","src"])]),Object(a["g"])("div",f,[Object(a["g"])("span",h,Object(a["y"])(r.mealObj.nameKids),1),O,Object(a["g"])("span",j,"aka: "+Object(a["y"])(r.mealObj.nameAdult),1)]),Object(a["g"])("div",v,[Object(a["g"])("div",I,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.mealObj.tags,(function(e){return Object(a["p"])(),Object(a["d"])("div",{key:e,class:"tag"},[Object(a["g"])("span",null,Object(a["y"])(e),1)])})),128))]),Object(a["g"])("div",T,["short"===r.mealObj.prepTime?(Object(a["p"])(),Object(a["d"])("i",M," hourglass_empty ")):Object(a["e"])("",!0),"long"===r.mealObj.prepTime?(Object(a["p"])(),Object(a["d"])("i",S," hourglass_full ")):Object(a["e"])("",!0)]),Object(a["g"])("div",k,[y,Object(a["g"])("span",null,Object(a["y"])(r.mealObj.ratings.T),1),_,Object(a["g"])("span",null,Object(a["y"])(r.mealObj.ratings.F),1)]),Object(a["g"])("div",{class:["button",{"button-selected":n.selected}]},[Object(a["g"])("i",{class:"material-icons",onClick:t[1]||(t[1]=function(e){return c.selectMeal(r.mealObj)})},Object(a["y"])(r.selectedIcon),1)],2)])],2)})),E=(n("7db0"),n("a9e3"),n("15da")),A={props:{mealId:{type:Number,required:!0},selected:{type:Boolean,required:!1,default:function(){return!1}}},setup:function(e){var t=E.find((function(t){return t.mealId===e.mealId})),n=Object(a["b"])((function(){return e.selected?"remove":"add"}));return{mealObj:t,selectedIcon:n}},methods:{getImgUrl:function(e){return n("caa6")("./"+e)},selectMeal:function(e){this.$store.dispatch("toggleMealId",e.mealId)}}};n("7ecd");A.render=L,A.__scopeId="data-v-6199bf62";var C=A,D=n("5502"),w=(n("cb29"),E.length);console.log("There are",w,"meals in the current meal list.");var N,G,P={mealsThisWeek:Array(w).fill(!1),assignedMeals:Array(7).fill(-1),additionalShoppingList:[],checkedItems:[]},B=(n("99af"),n("4de4"),n("4160"),n("13d5"),n("45fc"),n("159b"),n("2909")),x=function(e,t){return[].concat(Object(B["a"])(e),Object(B["a"])(t.ingredients.map((function(e){return{name:e,ingredient:e,checked:!1,nameAdult:t.nameAdult,meal:t.nameAdult}}))))},F={selectedMealsThisWeek:function(e){var t=function(e,t,n){return t&&e.push(n),e};return e.mealsThisWeek.reduce(t,[])},assignedMealsThisWeek:function(e){var t={nameAdult:"Drag a meal here",mealId:-1};return e.assignedMeals.map((function(e){return E.find((function(t){return t.mealId===e}))||t}))},shoppingList:function(e){var t=e.additionalShoppingList,n=e.assignedMeals.filter((function(e){return e>=0})),a=E.filter((function(e){return n.includes(e.mealId)})).reduce(x,[]),r=[].concat(Object(B["a"])(t),Object(B["a"])(a));return r.forEach((function(t){e.checkedItems.some((function(e){if(e.meal===t.meal&&e.ingredient===t.ingredient)return t.checked=!0,!0}))?t.checked=!0:t.checked=!1})),r}},W=(n("c740"),n("c975"),n("a434"),n("b64b"),n("ade3"));(function(e){e["TOGGLE_MEAL_ID"]="TOGGLE_MEAL_ID",e["ASSIGN_MEAL_ID_TO_DAY_ID"]="ASSIGN_MEAL_ID_TO_DAY_ID",e["UNASSIGN_MEAL_ID"]="UNASSIGN_MEAL_ID",e["ADD_SL_ITEM"]="ADD_SL_ITEM",e["REMOVE_SL_ITEM"]="REMOVE_SL_ITEM",e["TOGGLE_INGREDIENT_CHECK"]="TOGGLE_INGREDIENT_CHECK",e["INITIALISE_STORE"]="INITIALISE_STORE"})(N||(N={}));var R="storeState";function z(e){localStorage.setItem(R,JSON.stringify(e));console.log("state persisted",e)}var K,U,J=(G={},Object(W["a"])(G,N.INITIALISE_STORE,(function(e){console.log("Initialising store from previous session"),console.log("state: ",e);var t=localStorage.getItem(R);console.log("dehydrated: ",t);var n=JSON.parse(t);console.log("hydrated: ",n),n&&Object.keys(n).forEach((function(t){console.log("key",t);var a=n[t];console.log("value: ",a),e=n})),console.log("state: ",e)})),Object(W["a"])(G,N.TOGGLE_MEAL_ID,(function(e,t){var n=e.mealsThisWeek[t];e.mealsThisWeek[t]=!n,z(e)})),Object(W["a"])(G,N.ASSIGN_MEAL_ID_TO_DAY_ID,(function(e,t){e.assignedMeals[t.dayId]=t.mealId,z(e)})),Object(W["a"])(G,N.UNASSIGN_MEAL_ID,(function(e,t){var n=e.assignedMeals.indexOf(t);n>-1&&(e.assignedMeals[n]=-1),z(e)})),Object(W["a"])(G,N.ADD_SL_ITEM,(function(e,t){e.additionalShoppingList=[].concat(Object(B["a"])(e.additionalShoppingList),[t]),z(e)})),Object(W["a"])(G,N.REMOVE_SL_ITEM,(function(e,t){var n=e.additionalShoppingList.indexOf(t);n>=0&&e.additionalShoppingList.splice(n,1),z(e)})),Object(W["a"])(G,N.TOGGLE_INGREDIENT_CHECK,(function(e,t){var n=e.checkedItems.findIndex((function(e){return e.meal===t.meal&&e.ingredient===t.ingredient}));n>=0?e.checkedItems.splice(n,1):e.checkedItems.push(t),z(e)})),G);n("d3b7");(function(e){e["toggleMealId"]="toggleMealId",e["assignMeal"]="assignMeal",e["AddItemToShoppingList"]="AddItemToShoppingList",e["RemoveItemFromShoppingList"]="RemoveItemFromShoppingList",e["ToggleIngredientChecked"]="ToggleIngredientChecked"})(K||(K={}));var q=(U={},Object(W["a"])(U,K.toggleMealId,(function(e,t){var n=e.state,a=e.commit;return new Promise((function(e){a(N.TOGGLE_MEAL_ID,t),n.assignedMeals.includes(t)&&a(N.UNASSIGN_MEAL_ID,t),e(t)}))})),Object(W["a"])(U,K.assignMeal,(function(e,t){var n=e.commit;return new Promise((function(e){n(N.UNASSIGN_MEAL_ID,t.mealId),n(N.ASSIGN_MEAL_ID_TO_DAY_ID,t),e(t)}))})),Object(W["a"])(U,K.AddItemToShoppingList,(function(e,t){var n=e.state,a=e.commit;return new Promise((function(e,r){n.additionalShoppingList.map((function(e){return e.ingredient.toLowerCase()})).includes(t.ingredient.toLowerCase())?r(new Error("".concat(t.ingredient||"That item"," already exists in list"))):(a(N.ADD_SL_ITEM,t),e(t))}))})),Object(W["a"])(U,K.RemoveItemFromShoppingList,(function(e,t){var n=e.commit;return new Promise((function(e){n(N.REMOVE_SL_ITEM,t),e(t)}))})),Object(W["a"])(U,K.ToggleIngredientChecked,(function(e,t){var n=e.commit;return new Promise((function(e){n(N.TOGGLE_INGREDIENT_CHECK,t),e(t)}))})),U),V=Object(D["a"])({state:P,getters:F,mutations:J,actions:q});function H(){return V}var Y={components:{MealCard:C},setup:function(){var e=H(),t=E.map((function(e){return e.mealId})),n=Object(a["b"])((function(){return e.state.mealsThisWeek})),r=Object(a["b"])((function(){return e.getters.selectedMealsThisWeek})),o=Object(a["b"])((function(){return JSON.parse(localStorage.getItem("storeState")).selectedMealsThisWeek}));return{meals:E,arrMealIds:t,selectedMeals:n,mealsThisWeek:r,storedMeals:o}}};n("462b");Y.render=b,Y.__scopeId="data-v-07c08291";var $=Y,X=Object(a["J"])("data-v-74e14bb8");Object(a["s"])("data-v-74e14bb8");var Z=Object(a["g"])("h2",null," This week's meals ",-1),Q={class:"meal-order-planner"},ee={class:"assigned"},te={class:"day-item"},ne={class:"unassigned"};Object(a["q"])();var ae=X((function(e,t,n,r,o,c){var s=Object(a["w"])("MealToken");return Object(a["p"])(),Object(a["d"])("div",{class:"this-week-root",onDragend:t[5]||(t[5]=function(e){return c.dragEnd()})},[Z,Object(a["g"])("div",Q,[Object(a["g"])("div",ee,[Object(a["g"])("h4",null,"Assigned Meals ("+Object(a["y"])(r.orderedMealsCount)+")",1),Object(a["g"])("table",null,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.dayOfWeek,(function(e,n){return Object(a["p"])(),Object(a["d"])("tr",{id:e,key:"row-item"+n,class:"row-item"},[Object(a["g"])("td",null,[Object(a["g"])("div",te,Object(a["y"])(e)+":",1)]),Object(a["g"])("td",null,[Object(a["g"])(s,{id:"day-".concat(n),name:r.orderedMealObjects[n].nameAdult,"meal-id":r.orderedMealObjects[n].mealId,class:["dropzone",{draggable:r.orderedMealObjects[n].mealId>-1}],draggable:r.orderedMealObjects[n].mealId>-1,onDragstart:function(e){return c.dragStart(e,r.orderedMealObjects[n])},onDrop:function(e){return c.onDrop(e,n)},onDragenter:t[1]||(t[1]=Object(a["I"])((function(e){return c.dragOver(e)}),["prevent"])),onDragleave:t[2]||(t[2]=Object(a["I"])((function(e){return c.dragOver(e)}),["prevent"])),onDragover:t[3]||(t[3]=Object(a["I"])((function(){}),["prevent"])),onTouchstart:function(e){return c.touchStart(e,r.orderedMealObjects[n])},onTouchmove:function(e){return c.touchMove(e,r.orderedMealObjects[n])},onTouchend:function(e){return c.touchEnd(e,r.orderedMealObjects[n])},onRemove:function(e){return c.removeMeal(c.selectedMeal(n))}},null,8,["id","name","meal-id","class","draggable","onDragstart","onDrop","onTouchstart","onTouchmove","onTouchend","onRemove"])])],8,["id"])})),128))])]),Object(a["g"])("div",ne,[Object(a["g"])("h4",null,"Unassigned Meals ("+Object(a["y"])(r.unassignedMeals.length)+"):",1),(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.unassignedMeals,(function(e){return Object(a["p"])(),Object(a["d"])("div",{key:e},[Object(a["g"])(s,{name:e.nameAdult,"meal-id":e.mealId,class:"draggable",draggable:!0,onTouchstart:function(t){return c.touchStart(t,e)},onTouchmove:t[4]||(t[4]=Object(a["I"])((function(e){return c.touchMove(e)}),["prevent"])),onTouchend:function(t){return c.touchEnd(t,e)},onDragstart:function(t){return c.dragStart(t,e)}},null,8,["name","meal-id","onTouchstart","onTouchend","onDragstart"])])})),128))])])],32)})),re=(n("fb6a"),n("b0c0"),Object(a["J"])("data-v-5baeafba"));Object(a["s"])("data-v-5baeafba");var oe={key:0,class:"material-icons drag"},ce={key:1,class:"text"};Object(a["q"])();var se=re((function(e,t,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",{class:["base",{placeholder:r.isPlaceholder}]},[r.isPlaceholder?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("i",oe,"drag_indicator")),n.name?(Object(a["p"])(),Object(a["d"])("span",ce,Object(a["y"])(n.name),1)):Object(a["e"])("",!0),r.isPlaceholder?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("i",{key:2,class:"material-icons close",onClick:t[1]||(t[1]=function(){return c.removeMeal.apply(c,arguments)})},"close"))],2)})),ie="Drag a meal here",le={props:{name:{type:String||Boolean,required:!1,default:function(){return ie}},mealId:{type:Number,required:!1,default:function(){return-1}}},setup:function(e){var t=Object(a["b"])((function(){return e.name===ie}));return{isPlaceholder:t}},methods:{removeMeal:function(e,t){e&&(console.log("remove meal: ",e,t),this.$store.dispatch("toggleMealId",this.mealId))}}};n("215a");le.render=se,le.__scopeId="data-v-5baeafba";var de,ue=le;function ge(e,t){return null===e?null:e.classList.contains(t)?e:ge(e.parentElement,t)}var be={components:{MealToken:ue},setup:function(){var e=H(),t=Object(a["b"])((function(){return e.state.mealsThisWeek})),n=Object(a["b"])((function(){return e.state.assignedMeals})),r=Object(a["b"])((function(){return console.log("store.getters.assignedMealsThisWeek: ",e.getters.assignedMealsThisWeek),e.getters.assignedMealsThisWeek})),o=Object(a["b"])((function(){return e.state.assignedMeals.filter((function(e){return-1!==e})).length})),c=Object(a["b"])((function(){return e.getters.selectedMealsThisWeek})),s=Object(a["b"])((function(){var t=e.getters.selectedMealsThisWeek.filter((function(t){return!e.state.assignedMeals.includes(t)})),n=E.filter((function(e){return t.includes(e.mealId)}));return n})),i=Object(a["b"])((function(){return E.filter((function(t){return e.getters.selectedMealsThisWeek.includes(t.mealId)}))})),l=["Mon","Tues","Wed","Thur","Fri","Sat","Sun"];return{meals:E,selectedMeals:t,mealsThisWeek:c,mealsTWObj:i,dayOfWeek:l,orderedMeals:n,orderedMealsCount:o,orderedMealObjects:r,unassignedMeals:s}},methods:{selectedMeal:function(e){var t=this,n=E.find((function(n){return n.mealId===t.orderedMeals[e]}));return n?n.nameAdult:void 0},removeMeal:function(e,t){e&&(console.log("remove meal: ",e,t),this.$store.dispatch("toggleMealId",e.mealId))},toggleDroppable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";de&&de.classList&&de.classList.remove("drag-hover");var t=document.getElementsByClassName("dropzone");switch(e){case"toggle":t.forEach((function(e){return e.classList.toggle("droppable")}));break;case"true":case!0:t.forEach((function(e){return e.classList.add("droppable")}));break;case"false":case!1:t.forEach((function(e){return e.classList.remove("droppable")})),t.forEach((function(e){return e.classList.remove("drag-hover")}))}},logEvent:function(e,t){console.log(e.type,e,t)},dragStart:function(e,t){e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("meal",JSON.stringify(t)),this.toggleDroppable(!0)},touchStart:function(e,t){t.mealId<0||this.toggleDroppable(!0)},touchMove:function(e,t){if(!(t&&t.mealId<0)){e.preventDefault();var n=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY),a=ge(n,"droppable");de&&de!==a&&de.classList.remove("drag-hover"),a&&(a.classList.add("drag-hover"),de=a);var r=ge(e.target,"draggable"),o=e.touches[0].pageX,c=e.touches[0].pageY;r.style.x=o,r.style.y=c,r.style.zIndex=r.style.zIndex+10}},touchEnd:function(e,t){if(!(t.mealId<0)){e.target.style.position="relative",this.toggleDroppable(!1);var n=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);this.$store.dispatch("assignMeal",{mealId:t.mealId,dayId:ge(n,"dropzone").id.slice(4,5)})}},dragEnd:function(){this.toggleDroppable(!1)},dragOver:function(e){e.target.classList.toggle("drag-hover")},onDrop:function(e,t){this.toggleDroppable(!1);var n=JSON.parse(e.dataTransfer.getData("meal"));this.$store.dispatch("assignMeal",{mealId:n.mealId,dayId:t})}}};n("a6db");be.render=ae,be.__scopeId="data-v-74e14bb8";var pe=be,me=Object(a["J"])("data-v-22574bbb");Object(a["s"])("data-v-22574bbb");var fe={class:"base-shopping-list"},he=Object(a["g"])("h2",null,"Shopping List",-1),Oe={class:"sort-methods"},je=Object(a["g"])("span",{class:"sort-item"},"Sort by:",-1),ve=Object(a["g"])("span",{class:"sort-item"},"Completed at bottom:",-1),Ie={class:"add-item"},Te={class:"error-message"},Me={class:"shopping-list"},Se={class:"label"},ke={key:0,class:"location"},ye={key:1,class:"location"},_e=Object(a["g"])("ul",null,null,-1);Object(a["q"])();var Le=me((function(e,t,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",fe,[he,Object(a["g"])("div",Oe,[je,(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.sortBy,(function(e,n){return Object(a["p"])(),Object(a["d"])("div",{key:e+n,class:"sort-item"},[Object(a["g"])("label",{for:e},Object(a["y"])(e),9,["for"]),Object(a["G"])(Object(a["g"])("input",{id:e,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.sortSelected=e}),type:"radio",name:"sortMethod",value:e},null,8,["id","value"]),[[a["B"],r.sortSelected]])])})),128)),ve,Object(a["G"])(Object(a["g"])("input",{id:"completed","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.sortCompleted=e}),type:"checkbox"},null,512),[[a["A"],r.sortCompleted]])]),Object(a["g"])("div",Ie,[Object(a["G"])(Object(a["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.itemToAdd=e}),class:"input-box",placeholder:"Add Item to List",onKeyup:t[4]||(t[4]=Object(a["H"])((function(){return c.addToShoppingList.apply(c,arguments)}),["enter"]))},null,544),[[a["C"],r.itemToAdd]]),Object(a["g"])("i",{class:"material-icons add-item-button",onClick:t[5]||(t[5]=function(){return c.addToShoppingList.apply(c,arguments)})},"add")]),Object(a["G"])(Object(a["g"])("div",Te,[Object(a["g"])("span",null,Object(a["y"])(r.errorMessage),1)],512),[[a["D"],r.showErrorMessage]]),Object(a["g"])("div",Me,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(r.shoppingList,(function(e,t){return Object(a["p"])(),Object(a["d"])("div",{key:e,class:"shopping-item",onClickCapture:function(n){return c.toggleChecked(n,e,t)}},[Object(a["g"])("span",Se,Object(a["y"])(e.name),1),r.sortBy.slice(2,4).includes(r.sortSelected)?(Object(a["p"])(),Object(a["d"])("span",ke,Object(a["y"])(c.itemLocation(e)),1)):Object(a["e"])("",!0),r.sortBy[1]===r.sortSelected?(Object(a["p"])(),Object(a["d"])("span",ye,Object(a["y"])(e.nameAdult),1)):Object(a["e"])("",!0),Object(a["G"])(Object(a["g"])("input",{"onUpdate:modelValue":function(t){return e.checked=t},type:"checkbox",class:"check-box",onInput:function(n){return c.toggleChecked(n,e,t)}},null,40,["onUpdate:modelValue","onInput"]),[[a["A"],e.checked]])],40,["onClickCapture"])})),128))]),_e])})),Ee=n("7fdf"),Ae=["A->Z","Meal","Home","Woolies"],Ce=function(e,t,n,a,r){var o,c,s;if([r[2],r[3]].includes(n)&&(s=Ee[n].reduce((function(e,t){return[].concat(Object(B["a"])(e),Object(B["a"])(t.ingredients.sort()))}),[]),o=s.indexOf(e.name),c=s.indexOf(t.name)),a){if(e.checked&&!t.checked)return 1;if(!e.checked&&t.checked)return-1}switch(n){case r[2]:case r[3]:return o>=c?1:-1;case r[0]:return e.name.toLowerCase()>=t.name.toLowerCase()?1:-1;case r[1]:default:return 0}},De={setup:function(){var e=Ae,t=Object(a["u"])("A->Z"),n=Object(a["u"])(!0),r=Object(a["u"])(void 0),o=Object(a["u"])(!1),c=Object(a["u"])(""),s=H(),i=Object(a["b"])((function(){return s.getters.shoppingList.sort((function(e,a){return Ce(e,a,t.value,n.value,Ae)}))}));return{sortBy:e,sortSelected:t,sortCompleted:n,itemToAdd:r,shoppingList:i,showErrorMessage:o,errorMessage:c}},methods:{addToShoppingList:function(){var e=this;if(this.showErrorMessage=!1,this.itemToAdd){var t={name:this.itemToAdd,ingredient:this.itemToAdd,nameAdult:"Individual Item",meal:"Individual Item",id:void 0,checked:!1};this.$store.dispatch("AddItemToShoppingList",t).catch((function(t){e.errorMessage=t.message,e.showErrorMessage=!0})),this.itemToAdd=void 0}},itemLocation:function(e){if("None"===this.sortSelected)return"somewhere";var t="somewhere";return Ee[this.sortSelected].some((function(n){return n.ingredients.includes(e.name)?(t=n.location,!0):(t="not found",!1)})),t},toggleChecked:function(e,t){"click"===e.type&&"INPUT"===e.target.nodeName||this.$store.dispatch("ToggleIngredientChecked",{meal:t.meal,ingredient:t.name,status:e.returnValue})}}};n("edef");De.render=Le,De.__scopeId="data-v-22574bbb";var we=De,Ne=[{path:"/",name:"BrowseMeals",component:$},{path:"/meals",name:"BrowseMeals",component:$},{path:"/week",name:"ThisWeek",component:pe},{path:"/shopping",name:"ShoppingList",component:we}],Ge=Object(s["a"])({history:Object(s["b"])(),routes:Ne}),Pe=Ge;Object(a["c"])(o.a).use(V).use(Pe).mount("#app")},dd29:function(e,t,n){e.exports=n.p+"img/butterflied-lamb.07ac304c.jpeg"},ea41:function(e,t,n){e.exports=n.p+"img/tacos.88c8e93c.jpg"},edef:function(e,t,n){"use strict";n("f7da")},f7da:function(e,t,n){}});
//# sourceMappingURL=app.da134182.js.map